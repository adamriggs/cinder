<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Cinder</title>
		<link rel="stylesheet" href="cinder_doxygen.css" type="text/css" media="screen" />
		<script type="text/javascript" src="jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="jquery.lightbox-0.5.pack.js"></script>		
	</head>
<body>	
<div class="wrapper">
	<div id="header">
		<h1><a href="http://libcinder.org">Cinder</a></h1>
	</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">include/cinder/Stream.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_stream_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> Copyright (c) 2010, The Barbarian Group</span>
<a name="l00003"></a>00003 <span class="comment"> All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment"> Redistribution and use in source and binary forms, with or without modification, are permitted provided that</span>
<a name="l00006"></a>00006 <span class="comment"> the following conditions are met:</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and</span>
<a name="l00009"></a>00009 <span class="comment">    the following disclaimer.</span>
<a name="l00010"></a>00010 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and</span>
<a name="l00011"></a>00011 <span class="comment">    the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment"> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED</span>
<a name="l00014"></a>00014 <span class="comment"> WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A</span>
<a name="l00015"></a>00015 <span class="comment"> PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR</span>
<a name="l00016"></a>00016 <span class="comment"> ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED</span>
<a name="l00017"></a>00017 <span class="comment"> TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<a name="l00018"></a>00018 <span class="comment"> HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span>
<a name="l00019"></a>00019 <span class="comment"> NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
<a name="l00020"></a>00020 <span class="comment"> POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00021"></a>00021 <span class="comment">*/</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#pragma once </span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="_cinder_8h.html">cinder/Cinder.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="_buffer_8h.html">cinder/Buffer.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="_exception_8h.html">cinder/Exception.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="_filesystem_8h.html">cinder/Filesystem.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;boost/noncopyable.hpp&gt;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#ifndef __OBJC__</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#   include &lt;boost/iostreams/concepts.hpp&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#   include &lt;boost/iostreams/stream.hpp&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#endif</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 <span class="keyword">namespace </span>cinder {
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="classcinder_1_1_stream_base.html">00040</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_stream_base.html">StreamBase</a> : <span class="keyword">private</span> boost::noncopyable {
<a name="l00041"></a>00041  <span class="keyword">public</span>:
<a name="l00042"></a><a class="code" href="classcinder_1_1_stream_base.html#a437979461cb6677a4c991decc6299238">00042</a>     <span class="keyword">virtual</span> <a class="code" href="classcinder_1_1_stream_base.html#a437979461cb6677a4c991decc6299238">~StreamBase</a>() {}
<a name="l00043"></a>00043     
<a name="l00044"></a><a class="code" href="classcinder_1_1_stream_base.html#a8ebcdcb52449fc942ba8eef4ad0ea4ffa7607bb3de7c15701c6df0f64ae0e6c7d">00044</a>     <span class="keyword">enum</span> <a class="code" href="classcinder_1_1_stream_base.html#a8ebcdcb52449fc942ba8eef4ad0ea4ff">Endianness</a> { <a class="code" href="classcinder_1_1_stream_base.html#a218bc0d9def9b5060dc70f1e739a29e8">STREAM_BIG_ENDIAN</a>, <a class="code" href="classcinder_1_1_stream_base.html#a8ebcdcb52449fc942ba8eef4ad0ea4ffa7607bb3de7c15701c6df0f64ae0e6c7d">STREAM_LITTLE_ENDIAN</a> };
<a name="l00045"></a>00045  
<a name="l00047"></a><a class="code" href="classcinder_1_1_stream_base.html#a7a7cd3028fb556678526507406c2bd28">00047</a>     <span class="keyword">static</span> uint8_t      <a class="code" href="classcinder_1_1_stream_base.html#a7a7cd3028fb556678526507406c2bd28">getNativeEndianness</a>()
<a name="l00048"></a>00048 <span class="preprocessor">#ifdef CINDER_LITTLE_ENDIAN</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>        { <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_stream_base.html#a8ebcdcb52449fc942ba8eef4ad0ea4ffa7607bb3de7c15701c6df0f64ae0e6c7d">STREAM_LITTLE_ENDIAN</a>; }
<a name="l00050"></a>00050 <span class="preprocessor">#else</span>
<a name="l00051"></a><a class="code" href="classcinder_1_1_stream_base.html#a218bc0d9def9b5060dc70f1e739a29e8">00051</a> <span class="preprocessor"></span>        { <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_stream_base.html#a218bc0d9def9b5060dc70f1e739a29e8">STREAM_BIG_ENDIAN</a>; }
<a name="l00052"></a>00052 <span class="preprocessor">#endif</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span> 
<a name="l00055"></a><a class="code" href="classcinder_1_1_stream_base.html#a36a20cbb093f16093cd45d7dfb2156ce">00055</a>     <span class="keyword">const</span> fs::path&amp;     <a class="code" href="classcinder_1_1_stream_base.html#a36a20cbb093f16093cd45d7dfb2156ce" title="Returns the file name of the path from which a Stream originated when relevant. Empty string when und...">getFileName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_stream_base.html#ac7dcbf5f8508af5de7102e103c06fdee">mFileName</a>; }
<a name="l00057"></a><a class="code" href="classcinder_1_1_stream_base.html#a1aac7b0806df7b8e48d98257cd0ae124">00057</a>     <span class="keywordtype">void</span>                <a class="code" href="classcinder_1_1_stream_base.html#a1aac7b0806df7b8e48d98257cd0ae124" title="Sets the file name of the path from which a Stream originated when relevant. Empty string when undefi...">setFileName</a>( <span class="keyword">const</span> fs::path &amp;aFileName ) { <a class="code" href="classcinder_1_1_stream_base.html#ac7dcbf5f8508af5de7102e103c06fdee">mFileName</a> = aFileName; }
<a name="l00058"></a>00058 
<a name="l00060"></a><a class="code" href="classcinder_1_1_stream_base.html#a9d7ad66b39908c529a3c9577642f4634">00060</a>     <span class="keywordtype">bool</span>        <a class="code" href="classcinder_1_1_stream_base.html#a9d7ad66b39908c529a3c9577642f4634" title="Returns whether the Stream has been requested to destroy its source upon its own destruction. For example, IStreamFile will delete its source file. Ignored in some types of streams. Defaults to false.">getDeleteOnDestroy</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_stream_base.html#a61b4a2efaf094472d67849da838d8dd9">mDeleteOnDestroy</a>; }
<a name="l00062"></a><a class="code" href="classcinder_1_1_stream_base.html#a26d2339ac74a94d3afeb6c07a7856590">00062</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_stream_base.html#a26d2339ac74a94d3afeb6c07a7856590" title="Sets whether the Stream has been requested to destroy its source upon its own destruction. For example, IStreamFile will delete its source file. Ignored in some types of streams. Defaults to false.">setDeleteOnDestroy</a>( <span class="keywordtype">bool</span> <a class="code" href="namespacecinder_1_1gl.html#ad661cc5c41727eaca6cb2b8bee32bc0f" title="Enables the OpenGL State state. Equivalent to calling to glEnable( state );.">enable</a> = <span class="keyword">true</span> ) { <a class="code" href="classcinder_1_1_stream_base.html#a61b4a2efaf094472d67849da838d8dd9">mDeleteOnDestroy</a> = <a class="code" href="namespacecinder_1_1gl.html#ad661cc5c41727eaca6cb2b8bee32bc0f" title="Enables the OpenGL State state. Equivalent to calling to glEnable( state );.">enable</a>; }
<a name="l00063"></a>00063 
<a name="l00065"></a>00065     <span class="keyword">virtual</span> off_t       <a class="code" href="classcinder_1_1_stream_base.html#a4cb4b4f844c7d88f70f500055b11c7f3" title="Returns the current position of the stream measured in bytes **/.">tell</a>() <span class="keyword">const</span> = 0;
<a name="l00066"></a>00066 
<a name="l00068"></a>00068     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_stream_base.html#a667d77583433def40556e989bb459749" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( off_t absoluteOffset ) = 0;
<a name="l00069"></a>00069     
<a name="l00071"></a>00071     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_stream_base.html#a7611eed439e619699d55849beec802b2" title="Moves the current position of the stream by relativeOffset bytes.">seekRelative</a>( off_t relativeOffset ) = 0;
<a name="l00072"></a>00072  
<a name="l00073"></a>00073  <span class="keyword">protected</span>:
<a name="l00074"></a><a class="code" href="classcinder_1_1_stream_base.html#a956f19b6a4b1174917b54cd615a0bfdb">00074</a>     <a class="code" href="classcinder_1_1_stream_base.html#a956f19b6a4b1174917b54cd615a0bfdb">StreamBase</a>() : <a class="code" href="classcinder_1_1_stream_base.html#a61b4a2efaf094472d67849da838d8dd9">mDeleteOnDestroy</a>( false ) {}
<a name="l00075"></a>00075 
<a name="l00076"></a><a class="code" href="classcinder_1_1_stream_base.html#ac7dcbf5f8508af5de7102e103c06fdee">00076</a>     fs::path                <a class="code" href="classcinder_1_1_stream_base.html#ac7dcbf5f8508af5de7102e103c06fdee">mFileName</a>;
<a name="l00077"></a><a class="code" href="classcinder_1_1_stream_base.html#a61b4a2efaf094472d67849da838d8dd9">00077</a>     <span class="keywordtype">bool</span>                    <a class="code" href="classcinder_1_1_stream_base.html#a61b4a2efaf094472d67849da838d8dd9">mDeleteOnDestroy</a>;
<a name="l00078"></a>00078 };
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="classcinder_1_1_o_stream.html">00080</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_o_stream.html">OStream</a> : <span class="keyword">public</span> <span class="keyword">virtual</span> <a class="code" href="classcinder_1_1_stream_base.html">StreamBase</a> {
<a name="l00081"></a>00081  <span class="keyword">public</span>:
<a name="l00082"></a><a class="code" href="classcinder_1_1_o_stream.html#aa2dba0c8ea0195b1679d5fe151606bbf">00082</a>     <span class="keyword">virtual</span> <a class="code" href="classcinder_1_1_o_stream.html#aa2dba0c8ea0195b1679d5fe151606bbf">~OStream</a>() {}
<a name="l00083"></a>00083 
<a name="l00085"></a><a class="code" href="classcinder_1_1_o_stream.html#ab48e17d33320cebb3395cf25732b6eba">00085</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#ab48e17d33320cebb3395cf25732b6eba" title="Writes null-terminated string, including terminator.">write</a>( <span class="keyword">const</span> std::string &amp;s ) { <a class="code" href="classcinder_1_1_o_stream.html#a7e145e8af89804a9d9742ab90a4e53b7">writeData</a>( s.c_str(), s.length() + 1 ); }
<a name="l00086"></a><a class="code" href="classcinder_1_1_o_stream.html#a57bfa935e29a9ffdeb88462793b2ca94">00086</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#a57bfa935e29a9ffdeb88462793b2ca94">write</a>( <span class="keyword">const</span> ci::fs::path &amp;p ) { <a class="code" href="classcinder_1_1_o_stream.html#a7e145e8af89804a9d9742ab90a4e53b7">writeData</a>( p.string().c_str(), p.string().length() + 1 ); }
<a name="l00087"></a>00087     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00088"></a><a class="code" href="classcinder_1_1_o_stream.html#ad632c47a379bf500e00f1da1f9b0c470">00088</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#ad632c47a379bf500e00f1da1f9b0c470">write</a>( T t ) { <a class="code" href="classcinder_1_1_o_stream.html#a01526200f6221fefa619a57a7e123825">IOWrite</a>( &amp;t, <span class="keyword">sizeof</span>(T) ); }
<a name="l00089"></a>00089     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00090"></a><a class="code" href="classcinder_1_1_o_stream.html#a56b572ce7f7d07cacd5e3cba02103ccf">00090</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#a56b572ce7f7d07cacd5e3cba02103ccf">writeEndian</a>( T t, uint8_t endian ) { <span class="keywordflow">if</span> ( endian == <a class="code" href="classcinder_1_1_stream_base.html#a218bc0d9def9b5060dc70f1e739a29e8">STREAM_BIG_ENDIAN</a> ) <a class="code" href="classcinder_1_1_o_stream.html#a8b23ec6ad55777cbcf7857e6d7649d5d">writeBig</a>( t ); <span class="keywordflow">else</span> <a class="code" href="classcinder_1_1_o_stream.html#a9a9a7211236b6e0d997bc121d09eae98">writeLittle</a>( t ); }
<a name="l00091"></a>00091     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00092"></a>00092     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#a8b23ec6ad55777cbcf7857e6d7649d5d">writeBig</a>( T t );
<a name="l00093"></a>00093     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00094"></a>00094     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#a9a9a7211236b6e0d997bc121d09eae98">writeLittle</a>( T t );
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#ab48e17d33320cebb3395cf25732b6eba" title="Writes null-terminated string, including terminator.">write</a>( <span class="keyword">const</span> <a class="code" href="classcinder_1_1_buffer.html">Buffer</a> &amp;buffer );
<a name="l00097"></a>00097     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#a7e145e8af89804a9d9742ab90a4e53b7">writeData</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *src, <span class="keywordtype">size_t</span> size );
<a name="l00098"></a>00098 
<a name="l00099"></a>00099  <span class="keyword">protected</span>:
<a name="l00100"></a><a class="code" href="classcinder_1_1_o_stream.html#aed9d9e74ddb167a844c34a300ef99b19">00100</a>     <a class="code" href="classcinder_1_1_o_stream.html#aed9d9e74ddb167a844c34a300ef99b19">OStream</a>() : <a class="code" href="classcinder_1_1_stream_base.html">StreamBase</a>() {}
<a name="l00101"></a>00101  
<a name="l00102"></a>00102     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream.html#a01526200f6221fefa619a57a7e123825">IOWrite</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size ) = 0;
<a name="l00103"></a>00103 };
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 
<a name="l00106"></a><a class="code" href="namespacecinder.html#a150f14f908a9befa6eaab8fb6e345c74">00106</a> <span class="keyword">typedef</span> std::shared_ptr&lt;class OStream&gt;  <a class="code" href="namespacecinder.html#a150f14f908a9befa6eaab8fb6e345c74">OStreamRef</a>;
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="classcinder_1_1_i_stream.html">00108</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_i_stream.html">IStream</a> : <span class="keyword">public</span> <span class="keyword">virtual</span> <a class="code" href="classcinder_1_1_stream_base.html">StreamBase</a> {
<a name="l00109"></a>00109  <span class="keyword">public</span>:
<a name="l00110"></a><a class="code" href="classcinder_1_1_i_stream.html#afc975df4b1d2b93547d82b5fc8683af5">00110</a>     <span class="keyword">virtual</span> <a class="code" href="classcinder_1_1_i_stream.html#afc975df4b1d2b93547d82b5fc8683af5">~IStream</a>() {};
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00113"></a><a class="code" href="classcinder_1_1_i_stream.html#a6ede0ea48421b4972ceeb7691cc37ad0">00113</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#a6ede0ea48421b4972ceeb7691cc37ad0">read</a>( T *t ) { <a class="code" href="classcinder_1_1_i_stream.html#a88fc3a6d33099f21255d17287d340f5e">IORead</a>( t, <span class="keyword">sizeof</span>(T) ); }
<a name="l00114"></a>00114     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00115"></a><a class="code" href="classcinder_1_1_i_stream.html#a52cb5887d46fff25236811b629349d16">00115</a>     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#a52cb5887d46fff25236811b629349d16">readEndian</a>( T *t, uint8_t endian ) { <span class="keywordflow">if</span> ( endian == <a class="code" href="classcinder_1_1_stream_base.html#a218bc0d9def9b5060dc70f1e739a29e8">STREAM_BIG_ENDIAN</a> ) <a class="code" href="classcinder_1_1_i_stream.html#a532a92fb8bdb8b05b6172866a77f41e0">readBig</a>( t ); <span class="keywordflow">else</span> <a class="code" href="classcinder_1_1_i_stream.html#ab08247fd132c656a0776171d29b5333e">readLittle</a>( t ); }
<a name="l00116"></a>00116     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00117"></a>00117     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#a532a92fb8bdb8b05b6172866a77f41e0">readBig</a>( T *t );
<a name="l00118"></a>00118     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00119"></a>00119     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#ab08247fd132c656a0776171d29b5333e">readLittle</a>( T *t );
<a name="l00120"></a>00120 
<a name="l00122"></a>00122     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#a6ede0ea48421b4972ceeb7691cc37ad0">read</a>( std::string *s );
<a name="l00123"></a>00123     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#a6ede0ea48421b4972ceeb7691cc37ad0">read</a>( ci::fs::path *p );
<a name="l00124"></a>00124     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#af435ef3c8d2cc01cc6f5a5a7d7b72c12">readFixedString</a>( <span class="keywordtype">char</span> *t, <span class="keywordtype">size_t</span> maxSize, <span class="keywordtype">bool</span> nullTerminate );
<a name="l00125"></a>00125     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#af435ef3c8d2cc01cc6f5a5a7d7b72c12">readFixedString</a>( std::string *t, <span class="keywordtype">size_t</span> <a class="code" href="classcinder_1_1_i_stream.html#a3334bb1884d79e0c362eae3950043508">size</a> );
<a name="l00126"></a>00126     std::string <a class="code" href="classcinder_1_1_i_stream.html#aef72b1d653eb2fe2b8f4ab66aff2071c">readLine</a>();
<a name="l00127"></a>00127     
<a name="l00128"></a>00128     <span class="keywordtype">void</span>            <a class="code" href="classcinder_1_1_i_stream.html#a3d6f783b4e41a20a755a14d9bdb91aba">readData</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> <a class="code" href="classcinder_1_1_i_stream.html#a3334bb1884d79e0c362eae3950043508">size</a> );
<a name="l00129"></a>00129     <span class="keyword">virtual</span> <span class="keywordtype">size_t</span>  <a class="code" href="classcinder_1_1_i_stream.html#a70dec650876b8d6e329ff2617bca5874">readDataAvailable</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> maxSize ) = 0;
<a name="l00130"></a>00130 
<a name="l00131"></a>00131     <span class="keyword">virtual</span> off_t       <a class="code" href="classcinder_1_1_i_stream.html#a3334bb1884d79e0c362eae3950043508">size</a>() <span class="keyword">const</span> = 0;   
<a name="l00132"></a>00132     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>        <a class="code" href="classcinder_1_1_i_stream.html#ad3e374733ce84f5eb06f3dfdd0e231d1">isEof</a>() <span class="keyword">const</span> = 0;
<a name="l00133"></a>00133 
<a name="l00134"></a>00134  <span class="keyword">protected</span>:
<a name="l00135"></a><a class="code" href="classcinder_1_1_i_stream.html#ad2c13e970d08e276ff7b6d98daa1da87">00135</a>     <a class="code" href="classcinder_1_1_i_stream.html#ad2c13e970d08e276ff7b6d98daa1da87">IStream</a>() : <a class="code" href="classcinder_1_1_stream_base.html">StreamBase</a>() {}
<a name="l00136"></a>00136 
<a name="l00137"></a>00137     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream.html#a88fc3a6d33099f21255d17287d340f5e">IORead</a>( <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> <a class="code" href="classcinder_1_1_i_stream.html#a3334bb1884d79e0c362eae3950043508">size</a> ) = 0;
<a name="l00138"></a>00138         
<a name="l00139"></a><a class="code" href="classcinder_1_1_i_stream.html#ad8f6defbbc52eb5617577fcad8ce9ca1">00139</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span>    <a class="code" href="classcinder_1_1_i_stream.html#ad8f6defbbc52eb5617577fcad8ce9ca1">MINIMUM_BUFFER_SIZE</a> = 8; <span class="comment">// minimum bytes of random access a stream must offer relative to the file start</span>
<a name="l00140"></a>00140 };
<a name="l00141"></a><a class="code" href="namespacecinder.html#ad360b4711055d4cb532daa839674b8a6">00141</a> <span class="keyword">typedef</span> std::shared_ptr&lt;IStream&gt;        <a class="code" href="namespacecinder.html#ad360b4711055d4cb532daa839674b8a6">IStreamRef</a>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="classcinder_1_1_io_stream.html">00144</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_io_stream.html">IoStream</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_i_stream.html">IStream</a>, <span class="keyword">public</span> <a class="code" href="classcinder_1_1_o_stream.html">OStream</a> {
<a name="l00145"></a>00145  <span class="keyword">public</span>:
<a name="l00146"></a><a class="code" href="classcinder_1_1_io_stream.html#aacb0ad8796b841693625f1ea8fe106a4">00146</a>     <a class="code" href="classcinder_1_1_io_stream.html#aacb0ad8796b841693625f1ea8fe106a4">IoStream</a>() : <a class="code" href="classcinder_1_1_i_stream.html">IStream</a>(), <a class="code" href="classcinder_1_1_o_stream.html">OStream</a>() {}
<a name="l00147"></a><a class="code" href="classcinder_1_1_io_stream.html#ad7c79e47be781ba093d0b4da6b9a335e">00147</a>     <span class="keyword">virtual</span> <a class="code" href="classcinder_1_1_io_stream.html#ad7c79e47be781ba093d0b4da6b9a335e">~IoStream</a>() {}
<a name="l00148"></a>00148 };
<a name="l00149"></a><a class="code" href="namespacecinder.html#a26cce2f9e91eabde2c66c4597d6d394e">00149</a> <span class="keyword">typedef</span> std::shared_ptr&lt;IoStream&gt;       <a class="code" href="namespacecinder.html#a26cce2f9e91eabde2c66c4597d6d394e">IoStreamRef</a>;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="namespacecinder.html#ad890b7e422100c98499b3a58d281b902">00152</a> <span class="keyword">typedef</span> std::shared_ptr&lt;class IStreamFile&gt;  <a class="code" href="namespacecinder.html#ad890b7e422100c98499b3a58d281b902">IStreamFileRef</a>;
<a name="l00153"></a>00153 
<a name="l00154"></a><a class="code" href="classcinder_1_1_i_stream_file.html">00154</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_i_stream_file.html">IStreamFile</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_i_stream.html">IStream</a> {
<a name="l00155"></a>00155  <span class="keyword">public</span>:
<a name="l00157"></a>00157     <span class="keyword">static</span> <a class="code" href="namespacecinder.html#ad890b7e422100c98499b3a58d281b902">IStreamFileRef</a> <a class="code" href="classcinder_1_1_i_stream_file.html#ad76eae0f9dd6b9c906c57271df03b6d5" title="Creates a new IStreamFileRef from a C-style file pointer FILE as returned by fopen(). If ownsFile the returned stream will destroy the stream upon its own destruction.">create</a>( FILE *file, <span class="keywordtype">bool</span> ownsFile = <span class="keyword">true</span>, int32_t defaultBufferSize = 2048 );
<a name="l00158"></a>00158     <a class="code" href="classcinder_1_1_i_stream_file.html#aaade28d05d886753b8f8c6302e09b1bf">~IStreamFile</a>();
<a name="l00159"></a>00159 
<a name="l00160"></a>00160     <span class="keywordtype">size_t</span>      <a class="code" href="classcinder_1_1_i_stream_file.html#ac5ddac8dbd5f6d1957e233f3736581b6">readDataAvailable</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> maxSize );
<a name="l00161"></a>00161     
<a name="l00162"></a>00162     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream_file.html#ac31723b62c4dc71a2ab8d426a28aca32" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( off_t absoluteOffset );
<a name="l00163"></a>00163     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream_file.html#ae66d89105840d5e27088bcb281cae6b1" title="Moves the current position of the stream by relativeOffset bytes.">seekRelative</a>( off_t relativeOffset );
<a name="l00164"></a>00164     off_t       <a class="code" href="classcinder_1_1_i_stream_file.html#a8f7da42b52ea6333e53dc0b3ad5e5e78" title="Returns the current position of the stream measured in bytes **/.">tell</a>() <span class="keyword">const</span>;
<a name="l00165"></a>00165     off_t       <a class="code" href="classcinder_1_1_i_stream_file.html#a0ecbf13668b1cde8d26a6b6d8ef056f5">size</a>() <span class="keyword">const</span>;
<a name="l00166"></a>00166     
<a name="l00167"></a>00167     <span class="keywordtype">bool</span>        <a class="code" href="classcinder_1_1_i_stream_file.html#a06cb0f170f8fc12ac24fa6c3c51c3a51">isEof</a>() <span class="keyword">const</span>;
<a name="l00168"></a>00168     
<a name="l00169"></a><a class="code" href="classcinder_1_1_i_stream_file.html#a287ce9d87e6a7c3a872efe1695cd2b8e">00169</a>     FILE*       <a class="code" href="classcinder_1_1_i_stream_file.html#a287ce9d87e6a7c3a872efe1695cd2b8e">getFILE</a>() { <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_i_stream_file.html#aaf22c1cc5de65b2d66cfb67bdaf269ab">mFile</a>; }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171  <span class="keyword">protected</span>:
<a name="l00172"></a>00172     <a class="code" href="classcinder_1_1_i_stream_file.html#a3ca483f5fa65978f02286f3af853ef33">IStreamFile</a>( FILE *aFile, <span class="keywordtype">bool</span> aOwnsFile = <span class="keyword">true</span>, int32_t aDefaultBufferSize = 2048 );
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream_file.html#a0fe349cd0b3841ee1950f9b271c44196">IORead</a>( <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size );
<a name="l00175"></a>00175     <span class="keywordtype">size_t</span>              <a class="code" href="classcinder_1_1_i_stream_file.html#a4374b2b1ef775a6bd4d2b60701392a8e">readDataImpl</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> maxSize );
<a name="l00176"></a>00176  
<a name="l00177"></a><a class="code" href="classcinder_1_1_i_stream_file.html#aaf22c1cc5de65b2d66cfb67bdaf269ab">00177</a>     FILE                        *<a class="code" href="classcinder_1_1_i_stream_file.html#aaf22c1cc5de65b2d66cfb67bdaf269ab">mFile</a>;
<a name="l00178"></a><a class="code" href="classcinder_1_1_i_stream_file.html#abc2e8dad9810f00d5ae639ebf76b8783">00178</a>     <span class="keywordtype">bool</span>                        <a class="code" href="classcinder_1_1_i_stream_file.html#abc2e8dad9810f00d5ae639ebf76b8783">mOwnsFile</a>;
<a name="l00179"></a><a class="code" href="classcinder_1_1_i_stream_file.html#ac55cd480a1eb7e93837b45c3a6eb2e50">00179</a>     <span class="keywordtype">size_t</span>                      <a class="code" href="classcinder_1_1_i_stream_file.html#a9e7adb132eca853e9858299366b8913b">mBufferSize</a>, <a class="code" href="classcinder_1_1_i_stream_file.html#ac55cd480a1eb7e93837b45c3a6eb2e50">mDefaultBufferSize</a>;
<a name="l00180"></a><a class="code" href="classcinder_1_1_i_stream_file.html#a3aae8f6f14e511ed16dc05f69e1dfb78">00180</a>     std::shared_ptr&lt;uint8_t&gt;    <a class="code" href="classcinder_1_1_i_stream_file.html#a3aae8f6f14e511ed16dc05f69e1dfb78">mBuffer</a>;
<a name="l00181"></a><a class="code" href="classcinder_1_1_i_stream_file.html#a23d3f74e98e257dbcea9d9fe03ebf057">00181</a>     off_t                       <a class="code" href="classcinder_1_1_i_stream_file.html#a23d3f74e98e257dbcea9d9fe03ebf057">mBufferOffset</a>; <span class="comment">// actual offset to do IO from; incremented by IO</span>
<a name="l00182"></a><a class="code" href="classcinder_1_1_i_stream_file.html#a27a746a3a3011df644d3145766f81bb5">00182</a>     off_t                       <a class="code" href="classcinder_1_1_i_stream_file.html#a27a746a3a3011df644d3145766f81bb5">mBufferFileOffset</a>; <span class="comment">// beginning of the buffer in the file</span>
<a name="l00183"></a><a class="code" href="classcinder_1_1_i_stream_file.html#a3632bc24c3bd2e54e032497cae232b8f">00183</a>     <span class="keyword">mutable</span> off_t               <a class="code" href="classcinder_1_1_i_stream_file.html#a3632bc24c3bd2e54e032497cae232b8f">mSize</a>;
<a name="l00184"></a><a class="code" href="classcinder_1_1_i_stream_file.html#a2a93372ffb497b30ac3614ecaccdad10">00184</a>     <span class="keyword">mutable</span> <span class="keywordtype">bool</span>                <a class="code" href="classcinder_1_1_i_stream_file.html#a2a93372ffb497b30ac3614ecaccdad10">mSizeCached</a>;
<a name="l00185"></a>00185 };
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="namespacecinder.html#a6e2f4f582197df0ac387e4d9e4156bb4">00188</a> <span class="keyword">typedef</span> std::shared_ptr&lt;class OStreamFile&gt;  <a class="code" href="namespacecinder.html#a6e2f4f582197df0ac387e4d9e4156bb4">OStreamFileRef</a>;
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="classcinder_1_1_o_stream_file.html">00190</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_o_stream_file.html">OStreamFile</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_o_stream.html">OStream</a> {
<a name="l00191"></a>00191   <span class="keyword">public</span>:
<a name="l00193"></a>00193     <span class="keyword">static</span> <a class="code" href="namespacecinder.html#a6e2f4f582197df0ac387e4d9e4156bb4">OStreamFileRef</a>   <a class="code" href="classcinder_1_1_o_stream_file.html#aaf770f4a10cf5cc7871d0f6c6aa82f74" title="Creates a new OStreamFileRef from a C-style file pointer FILE as returned by fopen(). If ownsFile the returned stream will destroy the stream upon its own destruction.">create</a>( FILE *file, <span class="keywordtype">bool</span> ownsFile = <span class="keyword">true</span> );
<a name="l00194"></a>00194     <a class="code" href="classcinder_1_1_o_stream_file.html#aa4dd378645e4599c12766dfddcff4037">~OStreamFile</a>();
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     <span class="keyword">virtual</span> off_t       <a class="code" href="classcinder_1_1_o_stream_file.html#aecb72b01a1b4a471c97ef2b815dd6911" title="Returns the current position of the stream measured in bytes **/.">tell</a>() <span class="keyword">const</span>;
<a name="l00197"></a>00197     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream_file.html#afc91255bc691af5c526c4d37bd9ba56f" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( off_t absoluteOffset );
<a name="l00198"></a>00198     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream_file.html#aa5676e5bb0b2755d234b74a57c01f61b" title="Moves the current position of the stream by relativeOffset bytes.">seekRelative</a>( off_t relativeOffset );
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="classcinder_1_1_o_stream_file.html#a984ed6b91f51fd83bd73f8f9be986adf">00200</a>     FILE*               <a class="code" href="classcinder_1_1_o_stream_file.html#a984ed6b91f51fd83bd73f8f9be986adf">getFILE</a>() { <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_o_stream_file.html#af870d36bf8ec18dff89e4a1cb071ab30">mFile</a>; }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     
<a name="l00203"></a>00203   <span class="keyword">protected</span>:
<a name="l00204"></a>00204     <a class="code" href="classcinder_1_1_o_stream_file.html#a4f594b70f2930f2d33ec7f70565c29ea">OStreamFile</a>( FILE *aFile, <span class="keywordtype">bool</span> aOwnsFile = <span class="keyword">true</span> );
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream_file.html#a7d99b290e00f6adec838dd930ed32aa5">IOWrite</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size );
<a name="l00207"></a>00207 
<a name="l00208"></a><a class="code" href="classcinder_1_1_o_stream_file.html#af870d36bf8ec18dff89e4a1cb071ab30">00208</a>     FILE*               <a class="code" href="classcinder_1_1_o_stream_file.html#af870d36bf8ec18dff89e4a1cb071ab30">mFile</a>;
<a name="l00209"></a><a class="code" href="classcinder_1_1_o_stream_file.html#a4d3f822f890a37ca97876d9efab1b15b">00209</a>     <span class="keywordtype">bool</span>                <a class="code" href="classcinder_1_1_o_stream_file.html#a4d3f822f890a37ca97876d9efab1b15b">mOwnsFile</a>;
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="namespacecinder.html#acf3e2005fe30ea972e44c6dbed984647">00213</a> <span class="keyword">typedef</span> std::shared_ptr&lt;class IoStreamFile&gt;     <a class="code" href="namespacecinder.html#acf3e2005fe30ea972e44c6dbed984647">IoStreamFileRef</a>;
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="classcinder_1_1_io_stream_file.html">00215</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_io_stream_file.html">IoStreamFile</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_io_stream.html">IoStream</a> {
<a name="l00216"></a>00216  <span class="keyword">public</span>:
<a name="l00218"></a>00218     <span class="keyword">static</span> <a class="code" href="namespacecinder.html#acf3e2005fe30ea972e44c6dbed984647">IoStreamFileRef</a> <a class="code" href="classcinder_1_1_io_stream_file.html#a89ef6b12fc963eaf886c2cd82f41d9b7" title="Creates a new IoStreamFileRef from a C-style file pointer FILE as returned by fopen(). If ownsFile the returned stream will destroy the stream upon its own destruction.">create</a>( FILE *file, <span class="keywordtype">bool</span> ownsFile = <span class="keyword">true</span>, int32_t defaultBufferSize = 2048 );
<a name="l00219"></a>00219     <a class="code" href="classcinder_1_1_io_stream_file.html#a99dcac378365d38d3e2e05529f9e27aa">~IoStreamFile</a>();
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="keywordtype">size_t</span>      <a class="code" href="classcinder_1_1_io_stream_file.html#a21da02db3587820494c0c71eba348791">readDataAvailable</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> maxSize );
<a name="l00222"></a>00222     
<a name="l00223"></a>00223     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_io_stream_file.html#a6d292520efc362057d66c29d76ef5206" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( off_t absoluteOffset );
<a name="l00224"></a>00224     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_io_stream_file.html#abe6a404d27269b4451c98369eee2e55a" title="Moves the current position of the stream by relativeOffset bytes.">seekRelative</a>( off_t relativeOffset );
<a name="l00225"></a>00225     off_t       <a class="code" href="classcinder_1_1_io_stream_file.html#a4eed441152be684528c7d1dd673ffa8b" title="Returns the current position of the stream measured in bytes **/.">tell</a>() <span class="keyword">const</span>;
<a name="l00226"></a>00226     off_t       <a class="code" href="classcinder_1_1_io_stream_file.html#a5a2eef3410c2ffa136940746a761d55c">size</a>() <span class="keyword">const</span>;
<a name="l00227"></a>00227     
<a name="l00228"></a>00228     <span class="keywordtype">bool</span>        <a class="code" href="classcinder_1_1_io_stream_file.html#a236faf499cbe1a68702c9fb400587bae">isEof</a>() <span class="keyword">const</span>;
<a name="l00229"></a>00229     
<a name="l00230"></a><a class="code" href="classcinder_1_1_io_stream_file.html#a5bb4d65fc25011d5050ca2f4beca046a">00230</a>     FILE*       <a class="code" href="classcinder_1_1_io_stream_file.html#a5bb4d65fc25011d5050ca2f4beca046a">getFILE</a>() { <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_io_stream_file.html#aa561bb48988f904354807db1f13fea2f">mFile</a>; }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232  <span class="keyword">protected</span>:
<a name="l00233"></a>00233     <a class="code" href="classcinder_1_1_io_stream_file.html#a80f4d9d5d8ff26b52a56d215b4f05ad2">IoStreamFile</a>( FILE *aFile, <span class="keywordtype">bool</span> aOwnsFile = <span class="keyword">true</span>, int32_t aDefaultBufferSize = 2048 );
<a name="l00234"></a>00234     
<a name="l00235"></a>00235     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_io_stream_file.html#af4b783a1c4da8b16927e452485526269">IORead</a>( <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size );
<a name="l00236"></a>00236     <span class="keywordtype">size_t</span>              <a class="code" href="classcinder_1_1_io_stream_file.html#aab5e19d69dadc82f05b4c657100e5a14">readDataImpl</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> maxSize );
<a name="l00237"></a>00237     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_io_stream_file.html#a213a582bdb026f7a351a1958b1d4335d">IOWrite</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size );
<a name="l00238"></a>00238  
<a name="l00239"></a><a class="code" href="classcinder_1_1_io_stream_file.html#aa561bb48988f904354807db1f13fea2f">00239</a>     FILE                        *<a class="code" href="classcinder_1_1_io_stream_file.html#aa561bb48988f904354807db1f13fea2f">mFile</a>;
<a name="l00240"></a><a class="code" href="classcinder_1_1_io_stream_file.html#a78bfcc665e79231e81e3dc83e6858ce8">00240</a>     <span class="keywordtype">bool</span>                        <a class="code" href="classcinder_1_1_io_stream_file.html#a78bfcc665e79231e81e3dc83e6858ce8">mOwnsFile</a>;
<a name="l00241"></a><a class="code" href="classcinder_1_1_io_stream_file.html#a01f491bf654824df1894fe0d07caa9a1">00241</a>     int32_t                     <a class="code" href="classcinder_1_1_io_stream_file.html#a0fae015284c11af163d6c84d561babaa">mBufferSize</a>, <a class="code" href="classcinder_1_1_io_stream_file.html#a01f491bf654824df1894fe0d07caa9a1">mDefaultBufferSize</a>;
<a name="l00242"></a><a class="code" href="classcinder_1_1_io_stream_file.html#aa12e7030aa5060a7626a106d72cd3448">00242</a>     std::shared_ptr&lt;uint8_t&gt;    <a class="code" href="classcinder_1_1_io_stream_file.html#aa12e7030aa5060a7626a106d72cd3448">mBuffer</a>;
<a name="l00243"></a><a class="code" href="classcinder_1_1_io_stream_file.html#a7423067d8affe6599150edd40c3b5a02">00243</a>     off_t                       <a class="code" href="classcinder_1_1_io_stream_file.html#a7423067d8affe6599150edd40c3b5a02">mBufferOffset</a>; <span class="comment">// actual offset to do IO from; incremented by IO</span>
<a name="l00244"></a><a class="code" href="classcinder_1_1_io_stream_file.html#ab9bbec635d240728612975496a811051">00244</a>     off_t                       <a class="code" href="classcinder_1_1_io_stream_file.html#ab9bbec635d240728612975496a811051">mBufferFileOffset</a>; <span class="comment">// beginning of the buffer in the file</span>
<a name="l00245"></a><a class="code" href="classcinder_1_1_io_stream_file.html#a9283ab16a44d8cd7cfe444468cc78861">00245</a>     <span class="keyword">mutable</span> off_t               <a class="code" href="classcinder_1_1_io_stream_file.html#a9283ab16a44d8cd7cfe444468cc78861">mSize</a>;
<a name="l00246"></a><a class="code" href="classcinder_1_1_io_stream_file.html#a474c3e016302845089b94b4529cacda0">00246</a>     <span class="keyword">mutable</span> <span class="keywordtype">bool</span>                <a class="code" href="classcinder_1_1_io_stream_file.html#a474c3e016302845089b94b4529cacda0">mSizeCached</a>;
<a name="l00247"></a>00247 };
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 
<a name="l00250"></a><a class="code" href="namespacecinder.html#a183eabd1aadab330a5ea44899381c62a">00250</a> <span class="keyword">typedef</span> std::shared_ptr&lt;class IStreamMem&gt;   <a class="code" href="namespacecinder.html#a183eabd1aadab330a5ea44899381c62a">IStreamMemRef</a>;
<a name="l00251"></a><a class="code" href="classcinder_1_1_i_stream_mem.html">00251</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_i_stream_mem.html">IStreamMem</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_i_stream.html">IStream</a> {
<a name="l00252"></a>00252  <span class="keyword">public</span>:
<a name="l00254"></a>00254     <span class="keyword">static</span> <a class="code" href="namespacecinder.html#a183eabd1aadab330a5ea44899381c62a">IStreamMemRef</a>        <a class="code" href="classcinder_1_1_i_stream_mem.html#aec400f4441e102fc1ab6842a2661be1e" title="Creates a new IStreamMemRef from the memory pointed to by data which is of size size bytes...">create</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> <a class="code" href="classcinder_1_1_i_stream_mem.html#a73d79b1a7d2c13c948a3e3a3a3aaeafd" title="Returns the total length of stream in bytes.">size</a> );
<a name="l00255"></a>00255     <a class="code" href="classcinder_1_1_i_stream_mem.html#adc0fec8cd56ff90f4ef7d7aaf6b4c346">~IStreamMem</a>();
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     <span class="keywordtype">size_t</span>      <a class="code" href="classcinder_1_1_i_stream_mem.html#a060cd554d77636b54b93eb3a2597fddd">readDataAvailable</a>( <span class="keywordtype">void</span> *dest, <span class="keywordtype">size_t</span> maxSize );
<a name="l00258"></a>00258     
<a name="l00259"></a>00259     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream_mem.html#a2df28709daf0f2191409ee2c53bb7a87" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( off_t absoluteOffset );
<a name="l00260"></a>00260     <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_i_stream_mem.html#af5079e301bebfc0b6189a648ec3528d8" title="Moves the current position of the stream by relativeOffset bytes.">seekRelative</a>( off_t relativeOffset );
<a name="l00262"></a>00262     off_t       <a class="code" href="classcinder_1_1_i_stream_mem.html#ae0c94fddb6461d405191a95c000a3da9" title="Returns the current offset into the stream in bytes.">tell</a>() <span class="keyword">const</span>;
<a name="l00264"></a><a class="code" href="classcinder_1_1_i_stream_mem.html#a73d79b1a7d2c13c948a3e3a3a3aaeafd">00264</a>     off_t       <a class="code" href="classcinder_1_1_i_stream_mem.html#a73d79b1a7d2c13c948a3e3a3a3aaeafd" title="Returns the total length of stream in bytes.">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>off_t<span class="keyword">&gt;</span>( <a class="code" href="classcinder_1_1_i_stream_mem.html#a0eb41689aa14b27ec2a3b03cf5d14626">mDataSize</a> ); }
<a name="l00265"></a>00265 
<a name="l00267"></a>00267     <span class="keywordtype">bool</span>        <a class="code" href="classcinder_1_1_i_stream_mem.html#a720a739e57ef95da471f11566abb445b" title="Returns whether the stream is currently pointed at the end of the file.">isEof</a>() <span class="keyword">const</span>;
<a name="l00268"></a>00268     
<a name="l00270"></a><a class="code" href="classcinder_1_1_i_stream_mem.html#a75516c10b88d5bfc323105937f853092">00270</a>     <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classcinder_1_1_i_stream_mem.html#a75516c10b88d5bfc323105937f853092" title="Returns a pointer to the data which the stream wraps.">getData</a>() { <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>( <a class="code" href="classcinder_1_1_i_stream_mem.html#a58803f53c4a86cdc2f4fd73f70074d0f">mData</a> ); }
<a name="l00271"></a>00271 
<a name="l00272"></a>00272  <span class="keyword">protected</span>:
<a name="l00273"></a>00273     <a class="code" href="classcinder_1_1_i_stream_mem.html#ad902cdf4911c8329826e7ff01e3f9ced">IStreamMem</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *aData, <span class="keywordtype">size_t</span> aDataSize );
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classcinder_1_1_i_stream_mem.html#ad825ad099e9806a033ebfa833d29839f">IORead</a>( <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size );
<a name="l00276"></a>00276  
<a name="l00277"></a><a class="code" href="classcinder_1_1_i_stream_mem.html#a58803f53c4a86cdc2f4fd73f70074d0f">00277</a>     <span class="keyword">const</span> uint8_t   *<a class="code" href="classcinder_1_1_i_stream_mem.html#a58803f53c4a86cdc2f4fd73f70074d0f">mData</a>;
<a name="l00278"></a><a class="code" href="classcinder_1_1_i_stream_mem.html#a0eb41689aa14b27ec2a3b03cf5d14626">00278</a>     <span class="keywordtype">size_t</span>          <a class="code" href="classcinder_1_1_i_stream_mem.html#a0eb41689aa14b27ec2a3b03cf5d14626">mDataSize</a>;
<a name="l00279"></a><a class="code" href="classcinder_1_1_i_stream_mem.html#a72e3af8ed5fc48b3628ae76bb2eed1d4">00279</a>     <span class="keywordtype">size_t</span>          <a class="code" href="classcinder_1_1_i_stream_mem.html#a72e3af8ed5fc48b3628ae76bb2eed1d4">mOffset</a>;
<a name="l00280"></a>00280 };
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 
<a name="l00283"></a><a class="code" href="namespacecinder.html#ae5c99be6a56d8ecb500ec623ee20898a">00283</a> <span class="keyword">typedef</span> std::shared_ptr&lt;class OStreamMem&gt;       <a class="code" href="namespacecinder.html#ae5c99be6a56d8ecb500ec623ee20898a">OStreamMemRef</a>;
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="classcinder_1_1_o_stream_mem.html">00285</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_o_stream_mem.html">OStreamMem</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_o_stream.html">OStream</a> {
<a name="l00286"></a>00286  <span class="keyword">public</span>:
<a name="l00287"></a><a class="code" href="classcinder_1_1_o_stream_mem.html#acf02dfee724c1de215038af846a6f74d">00287</a>     <span class="keyword">static</span> <a class="code" href="namespacecinder.html#ae5c99be6a56d8ecb500ec623ee20898a">OStreamMemRef</a>        <a class="code" href="classcinder_1_1_o_stream_mem.html#acf02dfee724c1de215038af846a6f74d">create</a>( <span class="keywordtype">size_t</span> bufferSizeHint = 4096 ) { <span class="keywordflow">return</span> std::shared_ptr&lt;OStreamMem&gt;( <span class="keyword">new</span> <a class="code" href="classcinder_1_1_o_stream_mem.html#a58290cc97fbc8785e90ed8cd0a1a563d">OStreamMem</a>( bufferSizeHint ) ); }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289     <a class="code" href="classcinder_1_1_o_stream_mem.html#a26398e6045bd09280ca275520d1ed082">~OStreamMem</a>();
<a name="l00290"></a>00290 
<a name="l00291"></a><a class="code" href="classcinder_1_1_o_stream_mem.html#a33cd8270cd095c24d4945de9694fcbfa">00291</a>     <span class="keyword">virtual</span> off_t       <a class="code" href="classcinder_1_1_o_stream_mem.html#a33cd8270cd095c24d4945de9694fcbfa" title="Returns the current position of the stream measured in bytes **/.">tell</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>off_t<span class="keyword">&gt;</span>( <a class="code" href="classcinder_1_1_o_stream_mem.html#a331d39edc47502b9588e07f36cc3248c">mOffset</a> ); }
<a name="l00292"></a>00292     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream_mem.html#ac843356367a8bf78f5bdb1814612dcbb" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( off_t absoluteOffset );
<a name="l00293"></a>00293     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream_mem.html#a87222f82dfe137116432047acd4e9572" title="Moves the current position of the stream by relativeOffset bytes.">seekRelative</a>( off_t relativeOffset );
<a name="l00294"></a>00294 
<a name="l00295"></a><a class="code" href="classcinder_1_1_o_stream_mem.html#a66ae53c029b153b51447247712a63074">00295</a>     <span class="keywordtype">void</span>*               <a class="code" href="classcinder_1_1_o_stream_mem.html#a66ae53c029b153b51447247712a63074">getBuffer</a>() { <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1_o_stream_mem.html#a5468b6c1b34156b872fed27109b8cc47">mBuffer</a>; }
<a name="l00296"></a>00296     
<a name="l00297"></a>00297  <span class="keyword">protected</span>:
<a name="l00298"></a>00298     <a class="code" href="classcinder_1_1_o_stream_mem.html#a58290cc97fbc8785e90ed8cd0a1a563d">OStreamMem</a>( <span class="keywordtype">size_t</span> bufferSizeHint );
<a name="l00299"></a>00299 
<a name="l00300"></a>00300     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="classcinder_1_1_o_stream_mem.html#a8a2418c4b794b63bb844c200a7a47e4b">IOWrite</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *t, <span class="keywordtype">size_t</span> size );
<a name="l00301"></a>00301 
<a name="l00302"></a><a class="code" href="classcinder_1_1_o_stream_mem.html#a5468b6c1b34156b872fed27109b8cc47">00302</a>     <span class="keywordtype">void</span>            *<a class="code" href="classcinder_1_1_o_stream_mem.html#a5468b6c1b34156b872fed27109b8cc47">mBuffer</a>;
<a name="l00303"></a><a class="code" href="classcinder_1_1_o_stream_mem.html#a7eb8e60ee76e1b5bb35bd2f414712525">00303</a>     <span class="keywordtype">size_t</span>          <a class="code" href="classcinder_1_1_o_stream_mem.html#a7eb8e60ee76e1b5bb35bd2f414712525">mDataSize</a>;
<a name="l00304"></a><a class="code" href="classcinder_1_1_o_stream_mem.html#a331d39edc47502b9588e07f36cc3248c">00304</a>     <span class="keywordtype">size_t</span>          <a class="code" href="classcinder_1_1_o_stream_mem.html#a331d39edc47502b9588e07f36cc3248c">mOffset</a>;
<a name="l00305"></a>00305 };
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 <span class="comment">// This class is a utility to save and restore a stream&#39;s state</span>
<a name="l00309"></a><a class="code" href="classcinder_1_1_i_stream_state_restore.html">00309</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_i_stream_state_restore.html">IStreamStateRestore</a> {
<a name="l00310"></a>00310  <span class="keyword">public</span>:
<a name="l00311"></a><a class="code" href="classcinder_1_1_i_stream_state_restore.html#a4d604d7933725c0276c8daa6ce4c4719">00311</a>     <a class="code" href="classcinder_1_1_i_stream_state_restore.html#a4d604d7933725c0276c8daa6ce4c4719">IStreamStateRestore</a>( <a class="code" href="classcinder_1_1_i_stream.html">IStream</a> &amp;aStream ) : mStream( aStream ), mOffset( aStream.tell() ) {}
<a name="l00312"></a><a class="code" href="classcinder_1_1_i_stream_state_restore.html#a4532701905305d2c26b71c54313fd8fd">00312</a>     <a class="code" href="classcinder_1_1_i_stream_state_restore.html#a4532701905305d2c26b71c54313fd8fd">~IStreamStateRestore</a>() {
<a name="l00313"></a>00313         mStream.<a class="code" href="classcinder_1_1_stream_base.html#a667d77583433def40556e989bb459749" title="Sets the current position of the stream to byte absoluteOffset. A negative offset is relative to the ...">seekAbsolute</a>( mOffset );
<a name="l00314"></a>00314     }
<a name="l00315"></a>00315     
<a name="l00316"></a>00316  <span class="keyword">private</span>:
<a name="l00317"></a>00317     <a class="code" href="classcinder_1_1_i_stream.html">IStream</a>     &amp;mStream;
<a name="l00318"></a>00318     off_t       mOffset;
<a name="l00319"></a>00319 };
<a name="l00320"></a>00320 
<a name="l00322"></a>00322 <a class="code" href="namespacecinder.html#ad890b7e422100c98499b3a58d281b902">IStreamFileRef</a>  <a class="code" href="namespacecinder.html#a0567ed6e407fc665725c7c7d2c78ff60" title="Opens the file lcoated at path for read access as a stream.">loadFileStream</a>( <span class="keyword">const</span> fs::path &amp;path );
<a name="l00324"></a>00324 <a class="code" href="namespacecinder.html#a6e2f4f582197df0ac387e4d9e4156bb4">OStreamFileRef</a>  <a class="code" href="namespacecinder.html#a399c5842b26e4b97de47c70b9c114d66" title="Opens the file located at path for write access as a stream, and creates it if it does not exist...">writeFileStream</a>( <span class="keyword">const</span> fs::path &amp;path, <span class="keywordtype">bool</span> createParents = <span class="keyword">true</span> );
<a name="l00326"></a>00326 <a class="code" href="namespacecinder.html#acf3e2005fe30ea972e44c6dbed984647">IoStreamFileRef</a> <a class="code" href="namespacecinder.html#ab44424110d981c852598f8a3d89ba79a" title="Opens a path for read-write access as a stream.">readWriteFileStream</a>( <span class="keyword">const</span> fs::path &amp;path );
<a name="l00327"></a>00327 
<a name="l00329"></a>00329 <span class="keywordtype">void</span> <a class="code" href="namespacecinder.html#a820698ccd3520fbaba30c624de979994" title="Loads the contents of a stream into a contiguous block of memory, pointed to by resultData. The size of this block is stored in resultDataSize.">loadStreamMemory</a>( <a class="code" href="namespacecinder.html#ad360b4711055d4cb532daa839674b8a6">IStreamRef</a> is, std::shared_ptr&lt;uint8_t&gt; *resultData, <span class="keywordtype">size_t</span> *resultDataSize );
<a name="l00331"></a>00331 Buffer <a class="code" href="namespacecinder.html#a6f247505ffa143d331909c906b66ff71" title="Loads the contents of a stream into a Buffer.">loadStreamBuffer</a>( <a class="code" href="namespacecinder.html#ad360b4711055d4cb532daa839674b8a6">IStreamRef</a> is );
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">// Stream exception</span>
<a name="l00335"></a><a class="code" href="classcinder_1_1_stream_exc.html">00335</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_stream_exc.html">StreamExc</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_exception.html">Exception</a> {
<a name="l00336"></a>00336 };
<a name="l00337"></a>00337 
<a name="l00338"></a><a class="code" href="classcinder_1_1_stream_exc_out_of_memory.html">00338</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1_stream_exc_out_of_memory.html">StreamExcOutOfMemory</a> : <span class="keyword">public</span> <a class="code" href="classcinder_1_1_stream_exc.html">StreamExc</a> {
<a name="l00339"></a>00339 };
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 <span class="preprocessor">#ifndef __OBJC__</span>
<a name="l00342"></a><a class="code" href="classcinder_1_1cinder__stream__source.html">00342</a> <span class="preprocessor"></span><span class="keyword">class </span><a class="code" href="classcinder_1_1cinder__stream__source.html">cinder_stream_source</a> {
<a name="l00343"></a>00343  <span class="keyword">public</span>:
<a name="l00344"></a><a class="code" href="classcinder_1_1cinder__stream__source.html#a93e2628d58d7187987eea362597f25c2">00344</a>     <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="classcinder_1_1cinder__stream__source.html#a93e2628d58d7187987eea362597f25c2">char_type</a>;
<a name="l00345"></a><a class="code" href="classcinder_1_1cinder__stream__source.html#a9fd7be86244e73ff6c7137c911544b32">00345</a>     <span class="keyword">typedef</span> boost::iostreams::source_tag <a class="code" href="classcinder_1_1cinder__stream__source.html#a9fd7be86244e73ff6c7137c911544b32">category</a>;
<a name="l00346"></a>00346 
<a name="l00347"></a><a class="code" href="classcinder_1_1cinder__stream__source.html#ac9f95fba2fcd4965d0ddff4b121306d2">00347</a>     <a class="code" href="classcinder_1_1cinder__stream__source.html#ac9f95fba2fcd4965d0ddff4b121306d2">cinder_stream_source</a>( <a class="code" href="namespacecinder.html#ad360b4711055d4cb532daa839674b8a6">cinder::IStreamRef</a> aStream ) : <a class="code" href="classcinder_1_1cinder__stream__source.html#a64e0435c43486d7f1b74ca1b853e22f7">mStream</a>( aStream ) {}
<a name="l00348"></a>00348 
<a name="l00349"></a><a class="code" href="classcinder_1_1cinder__stream__source.html#a3018cba02d85c55f678becc0699fdb31">00349</a>     std::streamsize <a class="code" href="classcinder_1_1cinder__stream__source.html#a3018cba02d85c55f678becc0699fdb31">read</a>( <span class="keywordtype">char</span> *s, std::streamsize n )
<a name="l00350"></a>00350     {
<a name="l00351"></a>00351         <span class="keywordflow">if</span>( <a class="code" href="classcinder_1_1cinder__stream__source.html#a64e0435c43486d7f1b74ca1b853e22f7">mStream</a>-&gt;isEof() )
<a name="l00352"></a>00352             <span class="keywordflow">return</span> -1;
<a name="l00353"></a>00353         
<a name="l00354"></a>00354         <span class="keywordflow">return</span> (std::streamsize)<a class="code" href="classcinder_1_1cinder__stream__source.html#a64e0435c43486d7f1b74ca1b853e22f7">mStream</a>-&gt;readDataAvailable( s, (<span class="keywordtype">size_t</span>)n );
<a name="l00355"></a>00355     }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357  <span class="keyword">protected</span>:
<a name="l00358"></a><a class="code" href="classcinder_1_1cinder__stream__source.html#a64e0435c43486d7f1b74ca1b853e22f7">00358</a>     <a class="code" href="namespacecinder.html#ad360b4711055d4cb532daa839674b8a6">IStreamRef</a>      <a class="code" href="classcinder_1_1cinder__stream__source.html#a64e0435c43486d7f1b74ca1b853e22f7">mStream</a>; <span class="comment">// a little kludgy but this is for convenience</span>
<a name="l00359"></a>00359 };
<a name="l00360"></a>00360 
<a name="l00361"></a><a class="code" href="namespacecinder.html#a4cf45c54aea1844f6f1d95f90be2b002">00361</a> <span class="keyword">typedef</span> boost::iostreams::stream&lt;cinder_stream_source&gt; <a class="code" href="namespacecinder.html#a4cf45c54aea1844f6f1d95f90be2b002">cinder_istream</a>;
<a name="l00362"></a>00362 
<a name="l00363"></a><a class="code" href="classcinder_1_1cinder__stream__sink.html">00363</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1cinder__stream__sink.html">cinder_stream_sink</a> {
<a name="l00364"></a>00364  <span class="keyword">public</span>:
<a name="l00365"></a><a class="code" href="classcinder_1_1cinder__stream__sink.html#a29be1bbbf85b5fe7ab25b9659ec2041a">00365</a>     <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="classcinder_1_1cinder__stream__sink.html#a29be1bbbf85b5fe7ab25b9659ec2041a">char_type</a>;
<a name="l00366"></a><a class="code" href="classcinder_1_1cinder__stream__sink.html#ad3a960bb4fa085b1cdf9bb98ec0a43fa">00366</a>     <span class="keyword">typedef</span> boost::iostreams::sink_tag <a class="code" href="classcinder_1_1cinder__stream__sink.html#ad3a960bb4fa085b1cdf9bb98ec0a43fa">category</a>;
<a name="l00367"></a>00367 
<a name="l00368"></a><a class="code" href="classcinder_1_1cinder__stream__sink.html#a69201dd7a7b6fac193b4eb9a50962194">00368</a>     <a class="code" href="classcinder_1_1cinder__stream__sink.html#a69201dd7a7b6fac193b4eb9a50962194">cinder_stream_sink</a>( <a class="code" href="namespacecinder.html#a150f14f908a9befa6eaab8fb6e345c74">OStreamRef</a> aStream ) : <a class="code" href="classcinder_1_1cinder__stream__sink.html#a1e278b2cd87562a9cab72a0dbb4d4bd0">mStream</a>( aStream ) {}
<a name="l00369"></a>00369 
<a name="l00370"></a><a class="code" href="classcinder_1_1cinder__stream__sink.html#abdf850a3164e54f4e21291b842de7419">00370</a>     std::streamsize <a class="code" href="classcinder_1_1cinder__stream__sink.html#abdf850a3164e54f4e21291b842de7419">write</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *s, std::streamsize n )
<a name="l00371"></a>00371     {
<a name="l00372"></a>00372         <a class="code" href="classcinder_1_1cinder__stream__sink.html#a1e278b2cd87562a9cab72a0dbb4d4bd0">mStream</a>-&gt;writeData( s, (<span class="keywordtype">size_t</span>)n );
<a name="l00373"></a>00373         <span class="keywordflow">return</span> n;
<a name="l00374"></a>00374     }
<a name="l00375"></a>00375 
<a name="l00376"></a>00376  <span class="keyword">protected</span>:
<a name="l00377"></a><a class="code" href="classcinder_1_1cinder__stream__sink.html#a1e278b2cd87562a9cab72a0dbb4d4bd0">00377</a>     <a class="code" href="namespacecinder.html#a150f14f908a9befa6eaab8fb6e345c74">OStreamRef</a>      <a class="code" href="classcinder_1_1cinder__stream__sink.html#a1e278b2cd87562a9cab72a0dbb4d4bd0">mStream</a>;
<a name="l00378"></a>00378 };
<a name="l00379"></a>00379 
<a name="l00380"></a><a class="code" href="namespacecinder.html#a4ca34d440859a05e99a52dc0504bc25b">00380</a> <span class="keyword">typedef</span> boost::iostreams::stream&lt;cinder_stream_sink&gt; <a class="code" href="namespacecinder.html#a4ca34d440859a05e99a52dc0504bc25b">cinder_ostream</a>;
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html">00382</a> <span class="keyword">class </span><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html">cinder_stream_bidirectional_device</a> {
<a name="l00383"></a>00383  <span class="keyword">public</span>:
<a name="l00384"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a55e9a55bf59fe1b4dc580b87a5b382b5">00384</a>     <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a55e9a55bf59fe1b4dc580b87a5b382b5">char_type</a>;
<a name="l00385"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#aa24cce899289ae007e1baa501ebe6c6c">00385</a>     <span class="keyword">typedef</span> boost::iostreams::seekable_device_tag <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#aa24cce899289ae007e1baa501ebe6c6c">category</a>;
<a name="l00386"></a>00386 
<a name="l00387"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#aff28948f70977e1ed1a8de7610d7f2c1">00387</a>     <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#aff28948f70977e1ed1a8de7610d7f2c1">cinder_stream_bidirectional_device</a>( <a class="code" href="namespacecinder.html#a26cce2f9e91eabde2c66c4597d6d394e">cinder::IoStreamRef</a> aStream ) : <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>( aStream ) {}
<a name="l00388"></a>00388 
<a name="l00389"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a38af97af5c48902c657c4ea16bb2ac37">00389</a>     std::streamsize <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a38af97af5c48902c657c4ea16bb2ac37">read</a>( <span class="keywordtype">char</span> *s, std::streamsize n )
<a name="l00390"></a>00390     {
<a name="l00391"></a>00391         <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>std::streamsize<span class="keyword">&gt;</span>( <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>-&gt;readDataAvailable( s, (<span class="keywordtype">size_t</span>)n ) );
<a name="l00392"></a>00392     }
<a name="l00393"></a>00393 
<a name="l00394"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a2d72a861b6f4f13e0d23296f96d1d469">00394</a>     std::streamsize <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a2d72a861b6f4f13e0d23296f96d1d469">write</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *s, std::streamsize n )
<a name="l00395"></a>00395     {
<a name="l00396"></a>00396         <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>-&gt;writeData( s, (<span class="keywordtype">size_t</span>)n );
<a name="l00397"></a>00397         <span class="keywordflow">return</span> n;
<a name="l00398"></a>00398     }
<a name="l00399"></a>00399 
<a name="l00400"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#ae539d60309adadb9be1e33b3deeb7f5a">00400</a>     boost::iostreams::stream_offset <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#ae539d60309adadb9be1e33b3deeb7f5a">seek</a>( boost::iostreams::stream_offset off, std::ios_base::seekdir way)
<a name="l00401"></a>00401     {
<a name="l00402"></a>00402         <span class="keywordflow">if</span>( way == std::ios_base::beg ) {
<a name="l00403"></a>00403             <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>-&gt;seekAbsolute( (off_t)off );
<a name="l00404"></a>00404         }
<a name="l00405"></a>00405         <span class="keywordflow">else</span> <span class="keywordflow">if</span>( way == std::ios_base::cur ) {
<a name="l00406"></a>00406             <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>-&gt;seekRelative( (off_t)off );
<a name="l00407"></a>00407         }
<a name="l00408"></a>00408         <span class="keywordflow">else</span> { <span class="comment">// way == std::ios_base::end</span>
<a name="l00409"></a>00409             <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>-&gt;seekAbsolute( -(off_t)off );
<a name="l00410"></a>00410         }
<a name="l00411"></a>00411         <span class="keywordflow">return</span> <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>-&gt;tell();
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414  <span class="keyword">protected</span>:
<a name="l00415"></a><a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">00415</a>     <a class="code" href="namespacecinder.html#a26cce2f9e91eabde2c66c4597d6d394e">IoStreamRef</a>     <a class="code" href="classcinder_1_1cinder__stream__bidirectional__device.html#a27faed3b733db1180fb3e8c9ffc81c4f">mStream</a>;
<a name="l00416"></a>00416 };
<a name="l00417"></a>00417 
<a name="l00418"></a><a class="code" href="namespacecinder.html#a5e43e334d5c673a0c9a2c3c13794e44e">00418</a> <span class="keyword">typedef</span> boost::iostreams::stream&lt;cinder_stream_bidirectional_device&gt; <a class="code" href="namespacecinder.html#a5e43e334d5c673a0c9a2c3c13794e44e">cinder_iostream</a>;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 <span class="preprocessor">#endif // ! __OBJC__</span>
<a name="l00421"></a>00421 <span class="preprocessor"></span>
<a name="l00422"></a>00422 } <span class="comment">// namespace cinder</span>
</pre></div></div><!-- contents -->
	<div class="footer">
		<p> </p>
	</div>
</div>	
</body>
</html>
